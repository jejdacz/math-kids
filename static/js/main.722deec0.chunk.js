(this["webpackJsonpmath-kids"]=this["webpackJsonpmath-kids"]||[]).push([[0],{334:function(e,n,a){},335:function(e,n,a){},336:function(e,n,a){},337:function(e,n,a){"use strict";a.r(n);var t=a(4),r=a(3),o=a.n(r),c=a(86),s=a.n(c),i=(a(98),a(6)),u=a(23),l=a(20),d=a.n(l),m=(a(99),o.a.memo((function(e){var n=e.score,a=e.className,r=e.style;return Object(t.jsxs)("div",{style:r,className:d()(a,"score-container"),children:[Object(t.jsx)("h2",{className:"score",children:n.toFixed(1)}),Object(t.jsx)("h2",{className:"score-title",children:"score"})]})}))),f=o.a.createContext(),b=function(e){var n=e.children,a=Object(r.useContext)(f);return function(e,n){return o.a.Children.map(e,(function(e){if(o.a.isValidElement(e)){var a=d()(e.props.className,n);return o.a.cloneElement(e,{className:a})}return e}))}(n,d()(a.className))},p=o.a.memo((function(e){var n=e.score,a=e.scoreUnit,r=e.problem;return Object(t.jsxs)("div",{className:"app game",children:[r,Object(t.jsxs)(b,{children:[Object(t.jsx)("h2",{className:"score-unit",children:a.toFixed(2)}),Object(t.jsx)(m,{score:n,className:"sc1"})]})]})}));p.displayName="Game";var j=p,v=a(92),h=a(87),O=a(37);function g(){var e=Object(h.a)(["\n  font: inherit;\n  font-size: 1.7rem;\n  padding: 1.2rem 1.8rem;\n  border: 0;\n  background-color: ",";\n  color: ",";\n  outline: 0;\n  border-radius: 0.5rem;\n  text-align: center;\n  user-select: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return g=function(){return e},e}var x=O.b.button(g(),(function(e){return e.theme.secondary}),(function(e){return e.theme.onSecondary}));x.defaultProps={theme:{secondary:"#fff"}};var y=x,S=a(2),w=function(e){var n=e.onClick,a=Object(v.a)(e,["onClick"]),o=Object(r.useRef)(null),c=Object(r.useMemo)((function(){return new S.c({paused:!0})}),[]);return Object(r.useEffect)((function(){return c.to(o.current,{duration:.1,ease:"power3.out",transform:"scale(0.75)"}).to(o.current,{duration:.2,ease:"back.out(3)",transform:"scale(1.0)"}).to(o.current,{duration:.2,transform:"scale(1.0)"}),function(){c.kill()}}),[]),Object(t.jsx)(y,Object(i.a)({ref:o,onClick:function(e){c.eventCallback("onComplete",(function(){return n(e)})),c.restart()}},a))},k=a(39),N=a.n(k),C=a(40),R=o.a.memo((function(e){var n=e.score,a=e.restartGame;return Object(t.jsxs)("div",{className:"app over",children:[Object(t.jsx)(N.a,{style:{position:"absolute",left:"0",top:"0"},params:C,className:"particles"}),Object(t.jsxs)(b,{children:[Object(t.jsx)(m,{className:"large",score:n}),Object(t.jsx)(w,{onClick:a,className:"button-restart",children:"RESTART"})]})]})}));R.displayName="Over";var M=R,G=o.a.memo((function(e){var n=e.startGame;return Object(t.jsxs)("div",{className:"app intro",children:[Object(t.jsx)(N.a,{params:C}),Object(t.jsxs)(b,{children:[Object(t.jsx)("h1",{className:"main-title",children:"MATH KIDS"}),Object(t.jsx)(w,{onClick:n,className:"button-start",children:"START"})]})]})}));G.displayName="Intro";var F=G,V=function(e){var n=e.startGame;return Object(t.jsxs)("div",{className:"app error",children:[Object(t.jsx)("h1",{className:"main-title",children:"MATH KIDS"}),Object(t.jsx)("p",{className:"error",children:"Something bad happened!"}),Object(t.jsx)(y,{onClick:n,className:"button-start",children:"RESTART"})]})},I=(a(334),o.a.memo((function(e){var n=e.checkAnswer,a=e.selectedButton,o=e.problemSpec,c=o.problem,s=o.correctAnswer,i=o.answers;return Object(t.jsxs)(r.Fragment,{children:[Object(t.jsx)(b,{children:Object(t.jsxs)("div",{className:"problem",children:[c," = "]})}),Object(t.jsx)("div",{className:"answer-container",children:Object(t.jsx)(b,{children:function(e,r){return r.map((function(r,o){return Object(t.jsx)(y,{onClick:n(r===e?{answer:r,correct:!0,index:o}:{answer:r,correct:!1,index:o}),className:d()("game-button",r===e?"success":"fail",a===o&&"selected"),children:r},o)}))}(s,i)})})]})})));I.displayName="Problem";var L=I,U=(a(335),{init:{index:"init",className:"init",next:["introLoading"],duration:0},introLoading:{index:"introLoading",className:"intro-loading",next:["introGameStarting"],duration:500},introGameStarting:{index:"introGameStarting",className:"intro-game-starting",next:["roundLoading"],duration:500},roundLoading:{index:"roundLoading",className:"round-loading",next:["roundSuccess","roundFail"],duration:500},roundSuccess:{index:"roundSuccess",className:"round-success",next:["roundCleanup"],duration:500},roundFail:{index:"roundFail",className:"round-fail",next:["roundCleanup"],duration:500},roundCleanup:{index:"roundCleanup",className:"round-cleanup",next:["roundLoading","over"],duration:500},over:{index:"over",className:"over",next:["overGameRestarting"],duration:500},overGameRestarting:{index:"overGameRestarting",className:"over-game-restarting",next:["roundLoading"],duration:500}}),E=function(e){var n=Object(r.useState)(e.init),a=Object(u.a)(n,2),t=a[0],o=a[1];return[t,function(n){if(!t.next.includes(n.index))throw Error("scene ".concat(n," isn't in current.next list"));if(!e[n.index]||e[n.index]!==n)throw Error("scene ".concat(n," isn't in scheme"));o(e[n.index])},function(e){return setTimeout(e,t.duration)}]},z=function(e,n,a){var t=a?a(n):n,r=[];return{subscribe:function(e){return r.push(e),function(){return r.filter((function(n){return e!==n}))}},dispatch:function(n){return t=e(t,n),r.forEach((function(e){return e()})),n},getState:function(){return t}}},A=a(91),T=[function(e){var n=Math.floor(Math.random()*e),a=Math.floor(Math.random()*e);return{problem:"".concat(n+a," - ").concat(n),answer:a}},function(e){var n=Math.floor(Math.random()*e),a=Math.floor(Math.random()*e);return{problem:"".concat(n," + ").concat(a),answer:n+a}}],q=function e(n,a){var t=n();return a.includes(t)?e(n,a):[].concat(Object(A.a)(a),[t])},P=function(e,n){return.5-Math.random()},B=function(e){for(var n=e.answersCount,a=e.limit,t=Math.floor(Math.random()*T.length),r=T[t](a),o=r.problem,c=r.answer,s=[c];s.length<n;)s=q((function(){return Math.floor(10*Math.random())}),s);return s=s.sort(P),{problem:o,correctAnswer:c,answers:s}},D=Object.freeze({intro:"intro",over:"over",error:"error",roundInit:"round-init",roundRunning:"round-running",roundSuccess:"round-success",roundFail:"round-fail",roundOver:"round-over"}),H={appState:D.intro,initScoreUnit:10,scoreUnitReducer:.98,rounds:5,score:0,scoreUnit:10,round:1,problemSpec:{},problemOptions:{answersCount:4,limit:10}},J=function(e){return Object(i.a)(Object(i.a)({},e),{},{problemSpec:B(e.problemOptions)})},K=z((function(e,n){switch(n.type){case"startGame":return Object(i.a)(Object(i.a)({},e),{},{appState:D.roundInit});case"restartGame":return Object(i.a)(Object(i.a)({},J(H)),{},{appState:D.roundInit});case"checkAnswer":var a=n.payload.correct;return Object(i.a)(Object(i.a)(Object(i.a)({},e),a&&{score:e.score+e.scoreUnit}),a?{appState:D.roundSuccess}:{appState:D.roundFail});case"initRound":return Object(i.a)(Object(i.a)({},e),{},{round:e.round+1,appState:D.roundInit,scoreUnit:e.initScoreUnit,problemSpec:B(e.problemOptions)});case"startRound":return Object(i.a)(Object(i.a)({},e),{},{appState:D.roundRunning});case"finishRound":return Object(i.a)(Object(i.a)({},e),{},{appState:D.roundOver},e.round===e.rounds&&{appState:D.over});case"reduceScoreUnit":return Object(i.a)(Object(i.a)({},e),{},{scoreUnit:e.scoreUnit*e.scoreUnitReducer});default:throw Error("action type not defined")}}),H,J),W=K.dispatch,$=K.getState,Q=function(){return W({type:"startGame"})},X=function(){return W({type:"restartGame"})},Y=function(){W({type:"startRound"});var e=setInterval((function(){$().appState!==D.roundRunning?clearInterval(e):_()}),100)},Z=function(){return W({type:"finishRound"})},_=function(){W({type:"reduceScoreUnit"})},ee=(a(336),function(){var e=Object(r.useState)(K.getState()),n=Object(u.a)(e,2),a=n[0],o=n[1],c=E(U),s=Object(u.a)(c,3),l=s[0],d=s[1],m=s[2],b=Object(r.useState)(),p=Object(u.a)(b,2),v=p[0],h=p[1];Object(r.useEffect)((function(){var e=K.subscribe((function(){return o(K.getState())}));return function(){e()}}),[]);var O=a.score,g=a.scoreUnit,x=a.appState,y=a.problemSpec;Object(r.useEffect)((function(){switch(l){case U.introGameStarting:m(Q);break;case U.roundLoading:m(Y);break;case U.roundSuccess:case U.roundFail:m((function(){return d(U.roundCleanup)}));break;case U.roundCleanup:m(Z);break;case U.overGameRestarting:m(X)}}),[l]),Object(r.useEffect)((function(){switch(x){case D.intro:d(U.introLoading);break;case D.roundInit:h(),d(U.roundLoading);break;case D.roundSuccess:d(U.roundSuccess);break;case D.roundFail:d(U.roundFail);break;case D.roundOver:W({type:"initRound"});break;case D.over:d(U.over)}}),[x]);var S=x===D.roundRunning,w=function(){d(U.introGameStarting)},k=function(){d(U.overGameRestarting)},N=Object(t.jsx)(L,Object(i.a)(Object(i.a)({},{problemSpec:y,selectedButton:v}),{},{checkAnswer:function(e){return function(n){S&&(h(e.index),W({type:"checkAnswer",payload:e}))}}}));return Object(t.jsx)(f.Provider,{value:l,children:function(){switch(x){case D.intro:return Object(t.jsx)(F,{startGame:w});case D.roundInit:case D.roundRunning:case D.roundSuccess:case D.roundFail:case D.roundOver:return Object(t.jsx)(j,Object(i.a)({},{score:O,scoreUnit:g,problem:N}));case D.over:return Object(t.jsx)(M,Object(i.a)({restartGame:k},{score:O}));default:return Object(t.jsx)(V,Object(i.a)({},{startGame:Q}))}}()})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,338)).then((function(n){var a=n.getCLS,t=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;a(e),t(e),r(e),o(e),c(e)}))},ae={primary:"#3982c1",secondary:"#FF69B4",bacground:"#c4f2ff",onPrimary:"#ffffff",onSecondary:"#ffffff",onBackground:"#000000"},te=a(50),re=a(24);te.a.registerPlugin(re.a),s.a.render(Object(t.jsx)(o.a.StrictMode,{children:Object(t.jsx)(O.a,{theme:ae,children:Object(t.jsx)(ee,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ne()},40:function(e){e.exports=JSON.parse('{"autoPlay":true,"background":{"color":{"value":"#c4f2ff"},"image":"","position":"","repeat":"","size":"","opacity":1},"backgroundMask":{"composite":"destination-out","cover":{"color":{"value":"#fff"},"opacity":1},"enable":false},"backgroundMode":{"enable":true,"zIndex":-1},"detectRetina":true,"fpsLimit":60,"infection":{"cure":false,"delay":0,"enable":false,"infections":0,"stages":[]},"interactivity":{"detectsOn":"window","events":{"onClick":{"enable":false,"mode":[]},"onDiv":{"selectors":[],"enable":false,"mode":[],"type":"circle"},"onHover":{"enable":false,"mode":"trail","parallax":{"enable":false,"force":2,"smooth":10}},"resize":true},"modes":{"attract":{"distance":200,"duration":0.4,"speed":1},"bounce":{"distance":200},"bubble":{"distance":200,"duration":0.4},"connect":{"distance":80,"links":{"opacity":0.5},"radius":60},"grab":{"distance":100,"links":{"blink":false,"consent":false,"opacity":1}},"light":{"area":{"gradient":{"start":{"value":"#ffffff"},"stop":{"value":"#000000"}},"radius":1000},"shadow":{"color":{"value":"#000000"},"length":2000}},"push":{"quantity":4},"remove":{"quantity":2},"repulse":{"distance":200,"duration":0.4,"speed":1},"slow":{"factor":3,"radius":200},"trail":{"delay":0.005,"quantity":5,"particles":{"color":{"value":"#ff0000","animation":{"enable":true,"speed":400,"sync":true}},"collisions":{"enable":false,"bounce":{"horizontal":{"random":{}},"vertical":{"random":{}}}},"links":{"enable":false,"shadow":{},"triangles":{}},"move":{"outMode":"destroy","speed":5,"angle":{},"attract":{"rotate":{}},"gravity":{},"noise":{"delay":{"random":{}}},"outModes":{},"trail":{}},"size":{"value":5,"animation":{"enable":true,"speed":5,"minimumValue":1,"sync":true,"startValue":"min","destroy":"max"},"random":{}},"bounce":{"horizontal":{"random":{}},"vertical":{"random":{}}},"life":{"delay":{"random":{}},"duration":{"random":{}}},"number":{"density":{}},"opacity":{"animation":{},"random":{}},"rotate":{"animation":{}},"shadow":{"offset":{}},"shape":{},"stroke":{"color":{"value":"","animation":{"enable":false,"speed":0,"sync":false}}},"twinkle":{"lines":{},"particles":{}}}}}},"particles":{"bounce":{"horizontal":{"random":{"enable":false,"minimumValue":0.1},"value":1},"vertical":{"random":{"enable":false,"minimumValue":0.1},"value":1}},"collisions":{"bounce":{"horizontal":{"random":{"enable":false,"minimumValue":0.1},"value":1},"vertical":{"random":{"enable":false,"minimumValue":0.1},"value":1}},"enable":false,"mode":"bounce"},"color":{"value":["#f00","#f50"],"animation":{"enable":true,"speed":50,"sync":false}},"life":{"count":0,"delay":{"random":{"enable":false,"minimumValue":0.1},"value":1,"sync":false},"duration":{"random":{"enable":false,"minimumValue":0.1},"value":3,"sync":false}},"links":{"blink":false,"color":{"value":"random"},"consent":false,"distance":100,"enable":false,"frequency":1,"opacity":1,"shadow":{"blur":true,"color":{"value":"#00ff00"},"enable":false},"triangles":{"enable":false,"frequency":1},"width":1,"warp":false},"move":{"angle":{"offset":45,"value":90},"attract":{"enable":false,"rotate":{"x":3000,"y":3000}},"direction":"top","distance":0,"enable":true,"gravity":{"acceleration":9.81,"enable":false,"maxSpeed":50},"noise":{"delay":{"random":{"enable":false,"minimumValue":0},"value":0},"enable":false},"outModes":{"default":"out"},"random":true,"size":false,"speed":15,"straight":false,"trail":{"enable":false,"length":10,"fillColor":{"value":"#000000"}},"vibrate":false,"warp":false},"number":{"density":{"enable":true,"area":500,"factor":2000},"limit":100,"value":80},"opacity":{"random":{"enable":true,"minimumValue":0.3},"value":0.8,"animation":{"destroy":"none","enable":true,"minimumValue":0.3,"speed":0.5,"startValue":"random","sync":false}},"reduceDuplicates":false,"rotate":{"random":{"enable":true,"minimumValue":0},"value":90,"animation":{"enable":true,"speed":50,"sync":false},"direction":"random","path":false},"shadow":{"blur":0,"color":{"value":"#000000"},"enable":false,"offset":{"x":0,"y":0}},"shape":{"options":{},"type":"square"},"size":{"random":{"enable":true,"minimumValue":1},"value":7,"animation":{"destroy":"none","enable":true,"minimumValue":1,"speed":3,"startValue":"random","sync":false}},"stroke":{"width":0,"color":{"value":"","animation":{"enable":false,"speed":0,"sync":false}}},"twinkle":{"lines":{"enable":false,"frequency":0.05,"opacity":1},"particles":{"enable":false,"frequency":0.05,"opacity":1}}}}')},98:function(e,n,a){},99:function(e,n,a){}},[[337,1,2]]]);
//# sourceMappingURL=main.722deec0.chunk.js.map